{"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/app.ts":{"path":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/app.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":53}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":47}},"5":{"start":{"line":8,"column":26},"end":{"line":8,"column":69}},"6":{"start":{"line":9,"column":24},"end":{"line":9,"column":65}},"7":{"start":{"line":10,"column":17},"end":{"line":10,"column":53}},"8":{"start":{"line":11,"column":21},"end":{"line":11,"column":68}},"9":{"start":{"line":12,"column":24},"end":{"line":12,"column":74}},"10":{"start":{"line":13,"column":12},"end":{"line":13,"column":36}},"11":{"start":{"line":15,"column":0},"end":{"line":15,"column":107}},"12":{"start":{"line":16,"column":0},"end":{"line":16,"column":40}},"13":{"start":{"line":17,"column":0},"end":{"line":17,"column":31}},"14":{"start":{"line":18,"column":0},"end":{"line":18,"column":34}},"15":{"start":{"line":19,"column":0},"end":{"line":19,"column":58}},"16":{"start":{"line":20,"column":0},"end":{"line":20,"column":47}},"17":{"start":{"line":21,"column":0},"end":{"line":21,"column":53}},"18":{"start":{"line":22,"column":13},"end":{"line":22,"column":37}},"19":{"start":{"line":23,"column":0},"end":{"line":25,"column":3}},"20":{"start":{"line":24,"column":4},"end":{"line":24,"column":69}},"21":{"start":{"line":24,"column":27},"end":{"line":24,"column":67}},"22":{"start":{"line":26,"column":0},"end":{"line":26,"column":22}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":23,"column":39},"end":{"line":23,"column":40}},"loc":{"start":{"line":23,"column":45},"end":{"line":25,"column":1}},"line":23},"2":{"name":"(anonymous_2)","decl":{"start":{"line":24,"column":21},"end":{"line":24,"column":22}},"loc":{"start":{"line":24,"column":27},"end":{"line":24,"column":67}},"line":24}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":22,"column":13},"end":{"line":22,"column":37}},"type":"binary-expr","locations":[{"start":{"line":22,"column":13},"end":{"line":22,"column":29}},{"start":{"line":22,"column":33},"end":{"line":22,"column":37}}],"line":22}},"s":{"0":1,"1":7,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1},"f":{"0":7,"1":1,"2":1},"b":{"0":[1,1,1],"1":[3,4],"2":[7,7],"3":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/app.ts","sources":["/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/app.ts"],"names":[],"mappings":";;;;;AAAA,sDAA8B;AAC9B,gDAAwB;AACxB,sEAAsC;AACtC,kEAAyC;AAEzC,sDAA0B;AAC1B,qEAA6C;AAC7C,2EAAmD;AAEnD,MAAM,GAAG,GAAG,IAAA,iBAAO,GAAE,CAAC;AAEtB,8CAA8C;AAC9C,GAAG,CAAC,GAAG,CACL,IAAA,yBAAO,EAAC,EAAE,MAAM,EAAE,cAAc,EAAE,iBAAiB,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAC3E,CAAC;AACF,GAAG,CAAC,GAAG,CAAC,IAAA,uBAAY,GAAE,CAAC,CAAC;AACxB,GAAG,CAAC,GAAG,CAAC,IAAA,cAAI,GAAE,CAAC,CAAC;AAChB,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,IAAI,EAAE,CAAC,CAAC;AACxB,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,UAAU,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;AAChD,GAAG,CAAC,GAAG,CAAC,eAAe,EAAE,oBAAU,CAAC,CAAC;AACrC,GAAG,CAAC,GAAG,CAAC,kBAAkB,EAAE,uBAAa,CAAC,CAAC;AAE3C,MAAM,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,CAAC;AAEtC,gBAAE,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;IAC5B,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,qBAAqB,IAAI,EAAE,CAAC,CAAC,CAAC;AACnE,CAAC,CAAC,CAAC;AAEH,kBAAe,GAAG,CAAC","sourcesContent":["import express from \"express\";\nimport cors from \"cors\";\nimport session from \"express-session\";\nimport cookieParser from \"cookie-parser\";\n\nimport db from \"./models\";\nimport userRoutes from \"./routes/UserRoutes\";\nimport productRoutes from \"./routes/ProductRoutes\";\n\nconst app = express();\n\n// TODO: store session secret in env variables\napp.use(\n  session({ secret: \"simplesecret\", saveUninitialized: true, resave: true })\n);\napp.use(cookieParser());\napp.use(cors());\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\napp.use(\"/api/v1/users\", userRoutes);\napp.use(\"/api/v1/products\", productRoutes);\n\nconst PORT = process.env.PORT || 5000;\n\ndb.sequelize.sync().then(() => {\n  app.listen(PORT, () => console.log(`listening to port ${PORT}`));\n});\n\nexport default app;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"822017d09812ce0fa86d049b3a15a4f01ad3f309","contentHash":"415d313293b47621f5a8642317296e88a6516d8d36ea2bed232f1aaba0bdbc7a"},"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/models/index.ts":{"path":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/models/index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":13},"end":{"line":6,"column":43}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":47}},"5":{"start":{"line":8,"column":18},"end":{"line":8,"column":38}},"6":{"start":{"line":9,"column":17},"end":{"line":9,"column":52}},"7":{"start":{"line":10,"column":12},"end":{"line":10,"column":49}},"8":{"start":{"line":11,"column":15},"end":{"line":11,"column":63}},"9":{"start":{"line":12,"column":11},"end":{"line":12,"column":13}},"10":{"start":{"line":14,"column":0},"end":{"line":19,"column":1}},"11":{"start":{"line":15,"column":4},"end":{"line":15,"column":76}},"12":{"start":{"line":18,"column":4},"end":{"line":18,"column":89}},"13":{"start":{"line":20,"column":0},"end":{"line":27,"column":3}},"14":{"start":{"line":22,"column":4},"end":{"line":22,"column":86}},"15":{"start":{"line":25,"column":18},"end":{"line":25,"column":95}},"16":{"start":{"line":26,"column":4},"end":{"line":26,"column":27}},"17":{"start":{"line":28,"column":0},"end":{"line":32,"column":3}},"18":{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},"19":{"start":{"line":30,"column":8},"end":{"line":30,"column":36}},"20":{"start":{"line":33,"column":0},"end":{"line":33,"column":25}},"21":{"start":{"line":34,"column":0},"end":{"line":34,"column":25}},"22":{"start":{"line":35,"column":0},"end":{"line":35,"column":21}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":21,"column":12},"end":{"line":21,"column":13}},"loc":{"start":{"line":21,"column":22},"end":{"line":23,"column":1}},"line":21},"2":{"name":"(anonymous_2)","decl":{"start":{"line":24,"column":13},"end":{"line":24,"column":14}},"loc":{"start":{"line":24,"column":23},"end":{"line":27,"column":1}},"line":24},"3":{"name":"(anonymous_3)","decl":{"start":{"line":28,"column":24},"end":{"line":28,"column":25}},"loc":{"start":{"line":28,"column":39},"end":{"line":32,"column":1}},"line":28}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":10,"column":12},"end":{"line":10,"column":49}},"type":"binary-expr","locations":[{"start":{"line":10,"column":12},"end":{"line":10,"column":32}},{"start":{"line":10,"column":36},"end":{"line":10,"column":49}}],"line":10},"4":{"loc":{"start":{"line":14,"column":0},"end":{"line":19,"column":1}},"type":"if","locations":[{"start":{"line":14,"column":0},"end":{"line":19,"column":1}},{"start":{"line":14,"column":0},"end":{"line":19,"column":1}}],"line":14},"5":{"loc":{"start":{"line":22,"column":12},"end":{"line":22,"column":84}},"type":"binary-expr","locations":[{"start":{"line":22,"column":12},"end":{"line":22,"column":35}},{"start":{"line":22,"column":39},"end":{"line":22,"column":56}},{"start":{"line":22,"column":60},"end":{"line":22,"column":84}}],"line":22},"6":{"loc":{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},{"start":{"line":29,"column":4},"end":{"line":31,"column":5}}],"line":29}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":1,"13":1,"14":4,"15":3,"16":3,"17":1,"18":3,"19":3,"20":1,"21":1,"22":1},"f":{"0":2,"1":4,"2":3,"3":3},"b":{"0":[1,1,1],"1":[0,2],"2":[2,2],"3":[1,1],"4":[0,1],"5":[4,4,3],"6":[3,0]},"inputSourceMap":{"version":3,"file":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/models/index.ts","sources":["/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/models/index.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;AAEb,4CAAoB;AACpB,gDAAwB;AACxB,MAAM,SAAS,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC;AAEvC,MAAM,QAAQ,GAAG,cAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;AAC3C,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,IAAI,aAAa,CAAC;AAClD,MAAM,MAAM,GAAG,OAAO,CAAC,SAAS,GAAG,sBAAsB,CAAC,CAAC,GAAG,CAAC,CAAC;AAChE,MAAM,EAAE,GAAQ,EAAE,CAAC;AAEnB,IAAI,SAAc,CAAC;AACnB,IAAI,MAAM,CAAC,gBAAgB,EAAE;IAC3B,SAAS,GAAG,IAAI,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,gBAAgB,CAAC,EAAE,MAAM,CAAC,CAAC;CACzE;KAAM;IACL,SAAS,GAAG,IAAI,SAAS,CACvB,MAAM,CAAC,QAAQ,EACf,MAAM,CAAC,QAAQ,EACf,MAAM,CAAC,QAAQ,EACf,MAAM,CACP,CAAC;CACH;AAED,YAAE,CAAC,WAAW,CAAC,SAAS,CAAC;KACtB,MAAM,CAAC,CAAC,IAAY,EAAE,EAAE;IACvB,OAAO,CACL,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,IAAI,KAAK,QAAQ,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,KAAK,CACzE,CAAC;AACJ,CAAC,CAAC;KACD,OAAO,CAAC,CAAC,IAAS,EAAE,EAAE;IACrB,MAAM,KAAK,GAAG,OAAO,CAAC,cAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC,CAC/C,SAAS,EACT,SAAS,CAAC,SAAS,CACpB,CAAC;IACF,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;AACzB,CAAC,CAAC,CAAC;AAEL,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,EAAE;IACpC,IAAI,EAAE,CAAC,SAAS,CAAC,CAAC,SAAS,EAAE;QAC3B,EAAE,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;KAC7B;AACH,CAAC,CAAC,CAAC;AAEH,EAAE,CAAC,SAAS,GAAG,SAAS,CAAC;AACzB,EAAE,CAAC,SAAS,GAAG,SAAS,CAAC;AAEzB,kBAAe,EAAE,CAAC","sourcesContent":["\"use strict\";\n\nimport fs from \"fs\";\nimport path from \"path\";\nconst Sequelize = require(\"sequelize\");\n\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || \"development\";\nconst config = require(__dirname + \"/../config/config.js\")[env];\nconst db: any = {};\n\nlet sequelize: any;\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(\n    config.database,\n    config.username,\n    config.password,\n    config\n  );\n}\n\nfs.readdirSync(__dirname)\n  .filter((file: string) => {\n    return (\n      file.indexOf(\".\") !== 0 && file !== basename && file.slice(-3) === \".ts\"\n    );\n  })\n  .forEach((file: any) => {\n    const model = require(path.join(__dirname, file))(\n      sequelize,\n      Sequelize.DataTypes\n    );\n    db[model.name] = model;\n  });\n\nObject.keys(db).forEach((modelName) => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nexport default db;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4f3d71ef435d84fc4cf34b4530fe8460b405feed","contentHash":"862994d5b6a7e703f5bc68192a9485ab79fe8ef934c3d6563722f3690849c1b8"},"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/config/config.js":{"path":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/config/config.js","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":51}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":26}},"5":{"start":{"line":8,"column":0},"end":{"line":31,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/config/config.js","sources":["/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/config/config.js"],"names":[],"mappings":";;;;;AAAA,oDAA4B;AAE5B,gBAAM,CAAC,MAAM,EAAE,CAAC;AAEhB,MAAM,CAAC,OAAO,GAAG;IACf,WAAW,EAAE;QACX,QAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,OAAO;QAC7B,QAAQ,EAAE,IAAI;QACd,QAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,OAAO;QAC7B,IAAI,EAAE,WAAW;QACjB,IAAI,EAAE,IAAI;QACV,OAAO,EAAE,UAAU;KACpB;IACD,IAAI,EAAE;QACJ,QAAQ,EAAE,MAAM;QAChB,QAAQ,EAAE,IAAI;QACd,QAAQ,EAAE,eAAe;QACzB,IAAI,EAAE,WAAW;QACjB,OAAO,EAAE,OAAO;KACjB;IACD,UAAU,EAAE;QACV,QAAQ,EAAE,MAAM;QAChB,QAAQ,EAAE,IAAI;QACd,QAAQ,EAAE,qBAAqB;QAC/B,IAAI,EAAE,WAAW;QACjB,OAAO,EAAE,OAAO;KACjB;CACF,CAAC","sourcesContent":["import dotenv from \"dotenv\";\n\ndotenv.config();\n\nmodule.exports = {\n  development: {\n    username: process.env.DB_USER,\n    password: null,\n    database: process.env.DB_NAME,\n    host: \"127.0.0.1\",\n    port: 5432,\n    dialect: \"postgres\",\n  },\n  test: {\n    username: \"root\",\n    password: null,\n    database: \"database_test\",\n    host: \"127.0.0.1\",\n    dialect: \"mysql\",\n  },\n  production: {\n    username: \"root\",\n    password: null,\n    database: \"database_production\",\n    host: \"127.0.0.1\",\n    dialect: \"mysql\",\n  },\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"32325a277ab2bedf4acb9a47b41bc3ff094396ef","contentHash":"c7d001f7cde90a7bbe1b6d50efd0fe8c8f7db617656a3c98d5fc39b82af262db"},"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/models/category.ts":{"path":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/models/category.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":0},"end":{"line":27,"column":2}},"3":{"start":{"line":8,"column":12},"end":{"line":8,"column":45}},"4":{"start":{"line":11,"column":4},"end":{"line":25,"column":7}},"5":{"start":{"line":26,"column":4},"end":{"line":26,"column":20}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":17},"end":{"line":4,"column":18}},"loc":{"start":{"line":4,"column":43},"end":{"line":27,"column":1}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":8},"end":{"line":6,"column":9}},"loc":{"start":{"line":6,"column":33},"end":{"line":9,"column":9}},"line":6}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"file":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/models/category.ts","sources":["/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/models/category.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AACb,yCAAkC;AAOlC,MAAM,CAAC,OAAO,GAAG,CAAC,SAAc,EAAE,SAAc,EAAE,EAAE;IAClD,MAAM,QACJ,SAAQ,iBAAyB;QAKjC,MAAM,CAAC,SAAS,CAAC,MAAW;YAC1B,0BAA0B;YAC1B,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QACnC,CAAC;KACF;IACD,QAAQ,CAAC,IAAI,CACX;QACE,EAAE,EAAE;YACF,IAAI,EAAE,SAAS,CAAC,OAAO;YACvB,UAAU,EAAE,IAAI;YAChB,SAAS,EAAE,KAAK;YAChB,aAAa,EAAE,IAAI;SACpB;QACD,IAAI,EAAE;YACJ,IAAI,EAAE,SAAS,CAAC,MAAM;YACtB,SAAS,EAAE,KAAK;SACjB;KACF,EACD;QACE,SAAS;QACT,SAAS,EAAE,UAAU;KACtB,CACF,CAAC;IACF,OAAO,QAAQ,CAAC;AAClB,CAAC,CAAC","sourcesContent":["\"use strict\";\nimport { Model } from \"sequelize\";\n\ninterface CategoryAttributes {\n  id: number;\n  name: string;\n}\n\nmodule.exports = (sequelize: any, DataTypes: any) => {\n  class Category\n    extends Model<CategoryAttributes>\n    implements CategoryAttributes\n  {\n    id!: number;\n    name!: string;\n    static associate(models: any) {\n      // define association here\n      Category.hasMany(models.Product);\n    }\n  }\n  Category.init(\n    {\n      id: {\n        type: DataTypes.INTEGER,\n        primaryKey: true,\n        allowNull: false,\n        autoIncrement: true,\n      },\n      name: {\n        type: DataTypes.STRING,\n        allowNull: false,\n      },\n    },\n    {\n      sequelize,\n      modelName: \"Category\",\n    }\n  );\n  return Category;\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8d9821d40312b1730c2b06c9f021fdbb89c76522","contentHash":"61c0a6878fe3ac89c5566cccb21c4f605654a2ea775d2372f85aab2bea3b5849"},"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/models/product.ts":{"path":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/models/product.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":0},"end":{"line":48,"column":2}},"3":{"start":{"line":8,"column":12},"end":{"line":8,"column":43}},"4":{"start":{"line":9,"column":12},"end":{"line":9,"column":47}},"5":{"start":{"line":12,"column":4},"end":{"line":46,"column":7}},"6":{"start":{"line":47,"column":4},"end":{"line":47,"column":19}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":17},"end":{"line":4,"column":18}},"loc":{"start":{"line":4,"column":43},"end":{"line":48,"column":1}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":8},"end":{"line":6,"column":9}},"loc":{"start":{"line":6,"column":33},"end":{"line":10,"column":9}},"line":6}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"file":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/models/product.ts","sources":["/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/models/product.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AACb,yCAAkC;AAYlC,MAAM,CAAC,OAAO,GAAG,CAAC,SAAc,EAAE,SAAc,EAAE,EAAE;IAClD,MAAM,OAAQ,SAAQ,iBAAwB;QAQ5C,MAAM,CAAC,SAAS,CAAC,MAAW;YAC1B,0BAA0B;YAC1B,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAC/B,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QACrC,CAAC;KACF;IACD,OAAO,CAAC,IAAI,CACV;QACE,EAAE,EAAE;YACF,IAAI,EAAE,SAAS,CAAC,OAAO;YACvB,UAAU,EAAE,IAAI;YAChB,SAAS,EAAE,KAAK;YAChB,aAAa,EAAE,IAAI;SACpB;QACD,IAAI,EAAE;YACJ,IAAI,EAAE,SAAS,CAAC,MAAM;YACtB,SAAS,EAAE,KAAK;SACjB;QACD,KAAK,EAAE;YACL,IAAI,EAAE,SAAS,CAAC,OAAO;YACvB,SAAS,EAAE,KAAK;SACjB;QACD,WAAW,EAAE;YACX,IAAI,EAAE,SAAS,CAAC,MAAM;YACtB,SAAS,EAAE,KAAK;SACjB;QACD,QAAQ,EAAE;YACR,IAAI,EAAE,SAAS,CAAC,OAAO;YACvB,SAAS,EAAE,KAAK;SACjB;QACD,KAAK,EAAE;YACL,IAAI,EAAE,SAAS,CAAC,MAAM;YACtB,SAAS,EAAE,KAAK;SACjB;QACD,KAAK,EAAE;YACL,IAAI,EAAE,SAAS,CAAC,OAAO;YACvB,SAAS,EAAE,KAAK;SACjB;KACF,EACD;QACE,SAAS;QACT,SAAS,EAAE,SAAS;KACrB,CACF,CAAC;IACF,OAAO,OAAO,CAAC;AACjB,CAAC,CAAC","sourcesContent":["\"use strict\";\nimport { Model } from \"sequelize\";\n\ninterface ProductAttributes {\n  id: number;\n  name: string;\n  price: number;\n  description: string;\n  image: string;\n  stock: number;\n  category: number;\n}\n\nmodule.exports = (sequelize: any, DataTypes: any) => {\n  class Product extends Model<ProductAttributes> implements ProductAttributes {\n    id!: number;\n    name!: string;\n    price!: number;\n    description!: string;\n    image!: string;\n    stock!: number;\n    category!: number;\n    static associate(models: any) {\n      // define association here\n      Product.belongsTo(models.User);\n      Product.belongsTo(models.Category);\n    }\n  }\n  Product.init(\n    {\n      id: {\n        type: DataTypes.INTEGER,\n        primaryKey: true,\n        allowNull: false,\n        autoIncrement: true,\n      },\n      name: {\n        type: DataTypes.STRING,\n        allowNull: false,\n      },\n      price: {\n        type: DataTypes.INTEGER,\n        allowNull: false,\n      },\n      description: {\n        type: DataTypes.STRING,\n        allowNull: false,\n      },\n      category: {\n        type: DataTypes.INTEGER,\n        allowNull: false,\n      },\n      image: {\n        type: DataTypes.STRING,\n        allowNull: false,\n      },\n      stock: {\n        type: DataTypes.INTEGER,\n        allowNull: false,\n      },\n    },\n    {\n      sequelize,\n      modelName: \"Product\",\n    }\n  );\n  return Product;\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0fc7ce2b3df8df68a41f93d43195b9e1cfa79a67","contentHash":"3bbb9c6aa55804b0c3ebf9bbdc07b9b55204007eb2d8cfe0efbe4614edaa06dc"},"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/models/user.ts":{"path":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/models/user.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":20},"end":{"line":4,"column":40}},"3":{"start":{"line":5,"column":0},"end":{"line":45,"column":2}},"4":{"start":{"line":9,"column":12},"end":{"line":9,"column":70}},"5":{"start":{"line":12,"column":4},"end":{"line":43,"column":7}},"6":{"start":{"line":44,"column":4},"end":{"line":44,"column":16}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":18}},"loc":{"start":{"line":5,"column":43},"end":{"line":45,"column":1}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":8},"end":{"line":7,"column":9}},"loc":{"start":{"line":7,"column":33},"end":{"line":10,"column":9}},"line":7}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"file":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/models/user.ts","sources":["/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/models/user.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AACb,yCAAmC;AACnC,yCAAkC;AAIlC,MAAM,CAAC,OAAO,GAAG,CAAC,SAAc,EAAE,SAAc,EAAE,EAAE;IAClD,MAAM,IAAK,SAAQ,iBAAqB;QAYtC,MAAM,CAAC,SAAS,CAAC,MAAW;YAC1B,0BAA0B;YAC1B,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,UAAU,EAAE,WAAW,EAAE,CAAC,CAAC;QAC5D,CAAC;KACF;IACD,IAAI,CAAC,IAAI,CACP;QACE,EAAE,EAAE;YACF,IAAI,EAAE,SAAS,CAAC,IAAI;YACpB,YAAY,EAAE,kBAAM;YACpB,SAAS,EAAE,KAAK;YAChB,UAAU,EAAE,IAAI;SACjB;QACD,SAAS,EAAE;YACT,IAAI,EAAE,SAAS,CAAC,MAAM;YACtB,SAAS,EAAE,KAAK;SACjB;QACD,QAAQ,EAAE;YACR,IAAI,EAAE,SAAS,CAAC,MAAM;YACtB,SAAS,EAAE,KAAK;SACjB;QACD,KAAK,EAAE;YACL,IAAI,EAAE,SAAS,CAAC,MAAM;YACtB,SAAS,EAAE,KAAK;YAChB,MAAM,EAAE,IAAI;SACb;QACD,QAAQ,EAAE;YACR,IAAI,EAAE,SAAS,CAAC,MAAM;YACtB,SAAS,EAAE,KAAK;SACjB;QACD,IAAI,EAAE;YACJ,IAAI,EAAE,SAAS,CAAC,MAAM;YACtB,SAAS,EAAE,KAAK;SACjB;KACF,EACD;QACE,SAAS;QACT,SAAS,EAAE,MAAM;KAClB,CACF,CAAC;IACF,OAAO,IAAI,CAAC;AACd,CAAC,CAAC","sourcesContent":["\"use strict\";\nimport { UUIDV4 } from \"sequelize\";\nimport { Model } from \"sequelize\";\n\nimport { UserAttributes } from \"../utils/interfaces\";\n\nmodule.exports = (sequelize: any, DataTypes: any) => {\n  class User extends Model<UserAttributes> implements UserAttributes {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    id!: string;\n    firstName!: string;\n    lastName!: string;\n    email!: string;\n    role!: string;\n    password!: string;\n    static associate(models: any) {\n      // define association here\n      User.hasMany(models.Product, { foreignKey: \"createdBy\" });\n    }\n  }\n  User.init(\n    {\n      id: {\n        type: DataTypes.UUID,\n        defaultValue: UUIDV4,\n        allowNull: false,\n        primaryKey: true,\n      },\n      firstName: {\n        type: DataTypes.STRING,\n        allowNull: false,\n      },\n      lastName: {\n        type: DataTypes.STRING,\n        allowNull: false,\n      },\n      email: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        unique: true,\n      },\n      password: {\n        type: DataTypes.STRING,\n        allowNull: false,\n      },\n      role: {\n        type: DataTypes.STRING,\n        allowNull: false,\n      },\n    },\n    {\n      sequelize,\n      modelName: \"User\",\n    }\n  );\n  return User;\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f8871dfe213aff8e4419e5aa5cbeaed0d07154ec","contentHash":"11e3216cb5e9b06ce211cd5b70940caccf9d0a068bcf46f66ee50f171f757bd8"},"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/routes/UserRoutes.ts":{"path":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/routes/UserRoutes.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":53}},"4":{"start":{"line":7,"column":25},"end":{"line":7,"column":82}},"5":{"start":{"line":8,"column":15},"end":{"line":8,"column":41}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":51}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":63}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":67}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"f":{"0":2},"b":{"0":[1,1,1],"1":[1,1],"2":[2,2]},"inputSourceMap":{"version":3,"file":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/routes/UserRoutes.ts","sources":["/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/routes/UserRoutes.ts"],"names":[],"mappings":";;;;;AAAA,sDAA8B;AAC9B,mFAA2D;AAE3D,MAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,wBAAc,CAAC,QAAQ,CAAC,CAAC;AACzC,MAAM,CAAC,IAAI,CAAC,aAAa,EAAE,wBAAc,CAAC,SAAS,CAAC,CAAC;AACrD,MAAM,CAAC,IAAI,CAAC,gBAAgB,EAAE,wBAAc,CAAC,UAAU,CAAC,CAAC;AAEzD,kBAAe,MAAM,CAAC","sourcesContent":["import express from \"express\";\nimport UserController from \"../controllers/UserController\";\n\nconst router = express.Router();\n\nrouter.get(\"/\", UserController.getUsers);\nrouter.post(\"/auth/login\", UserController.loginUser);\nrouter.post(\"/auth/register\", UserController.createUser);\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"58782086aaa650deac134f5ac19255e2d9059432","contentHash":"cd0e5388d936290287873769cec0217e0774e6ca087ea6de47b74a6d2d5248d7"},"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/controllers/UserController.ts":{"path":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/controllers/UserController.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":23},"end":{"line":15,"column":63}},"16":{"start":{"line":16,"column":17},"end":{"line":16,"column":51}},"17":{"start":{"line":17,"column":22},"end":{"line":17,"column":73}},"18":{"start":{"line":18,"column":17},"end":{"line":18,"column":43}},"19":{"start":{"line":19,"column":0},"end":{"line":19,"column":26}},"20":{"start":{"line":29,"column":8},"end":{"line":48,"column":11}},"21":{"start":{"line":30,"column":12},"end":{"line":47,"column":13}},"22":{"start":{"line":31,"column":30},"end":{"line":31,"column":68}},"23":{"start":{"line":32,"column":16},"end":{"line":43,"column":17}},"24":{"start":{"line":33,"column":20},"end":{"line":36,"column":23}},"25":{"start":{"line":39,"column":20},"end":{"line":42,"column":23}},"26":{"start":{"line":46,"column":16},"end":{"line":46,"column":28}},"27":{"start":{"line":58,"column":8},"end":{"line":104,"column":11}},"28":{"start":{"line":59,"column":12},"end":{"line":103,"column":13}},"29":{"start":{"line":60,"column":44},"end":{"line":60,"column":52}},"30":{"start":{"line":61,"column":35},"end":{"line":61,"column":85}},"31":{"start":{"line":62,"column":16},"end":{"line":99,"column":17}},"32":{"start":{"line":63,"column":20},"end":{"line":66,"column":23}},"33":{"start":{"line":70,"column":44},"end":{"line":70,"column":105}},"34":{"start":{"line":71,"column":20},"end":{"line":98,"column":21}},"35":{"start":{"line":72,"column":24},"end":{"line":75,"column":27}},"36":{"start":{"line":79,"column":37},"end":{"line":84,"column":25}},"37":{"start":{"line":85,"column":38},"end":{"line":85,"column":112}},"38":{"start":{"line":86,"column":24},"end":{"line":97,"column":25}},"39":{"start":{"line":87,"column":28},"end":{"line":90,"column":31}},"40":{"start":{"line":93,"column":28},"end":{"line":96,"column":31}},"41":{"start":{"line":102,"column":16},"end":{"line":102,"column":28}},"42":{"start":{"line":107,"column":8},"end":{"line":156,"column":11}},"43":{"start":{"line":108,"column":12},"end":{"line":155,"column":13}},"44":{"start":{"line":109,"column":71},"end":{"line":109,"column":79}},"45":{"start":{"line":110,"column":33},"end":{"line":110,"column":69}},"46":{"start":{"line":111,"column":16},"end":{"line":116,"column":17}},"47":{"start":{"line":112,"column":20},"end":{"line":115,"column":23}},"48":{"start":{"line":117,"column":43},"end":{"line":123,"column":18}},"49":{"start":{"line":124,"column":16},"end":{"line":151,"column":17}},"50":{"start":{"line":125,"column":33},"end":{"line":130,"column":21}},"51":{"start":{"line":132,"column":34},"end":{"line":132,"column":108}},"52":{"start":{"line":133,"column":20},"end":{"line":144,"column":21}},"53":{"start":{"line":134,"column":24},"end":{"line":137,"column":27}},"54":{"start":{"line":140,"column":24},"end":{"line":143,"column":27}},"55":{"start":{"line":147,"column":20},"end":{"line":150,"column":23}},"56":{"start":{"line":154,"column":16},"end":{"line":154,"column":28}},"57":{"start":{"line":159,"column":0},"end":{"line":159,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":36},"end":{"line":49,"column":5}},"line":28},"9":{"name":"(anonymous_9)","decl":{"start":{"line":29,"column":47},"end":{"line":29,"column":48}},"loc":{"start":{"line":29,"column":60},"end":{"line":48,"column":9}},"line":29},"10":{"name":"(anonymous_10)","decl":{"start":{"line":57,"column":4},"end":{"line":57,"column":5}},"loc":{"start":{"line":57,"column":37},"end":{"line":105,"column":5}},"line":57},"11":{"name":"(anonymous_11)","decl":{"start":{"line":58,"column":47},"end":{"line":58,"column":48}},"loc":{"start":{"line":58,"column":60},"end":{"line":104,"column":9}},"line":58},"12":{"name":"(anonymous_12)","decl":{"start":{"line":106,"column":4},"end":{"line":106,"column":5}},"loc":{"start":{"line":106,"column":38},"end":{"line":157,"column":5}},"line":106},"13":{"name":"(anonymous_13)","decl":{"start":{"line":107,"column":47},"end":{"line":107,"column":48}},"loc":{"start":{"line":107,"column":60},"end":{"line":156,"column":9}},"line":107}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":32,"column":16},"end":{"line":43,"column":17}},"type":"if","locations":[{"start":{"line":32,"column":16},"end":{"line":43,"column":17}},{"start":{"line":32,"column":16},"end":{"line":43,"column":17}}],"line":32},"9":{"loc":{"start":{"line":62,"column":16},"end":{"line":99,"column":17}},"type":"if","locations":[{"start":{"line":62,"column":16},"end":{"line":99,"column":17}},{"start":{"line":62,"column":16},"end":{"line":99,"column":17}}],"line":62},"10":{"loc":{"start":{"line":71,"column":20},"end":{"line":98,"column":21}},"type":"if","locations":[{"start":{"line":71,"column":20},"end":{"line":98,"column":21}},{"start":{"line":71,"column":20},"end":{"line":98,"column":21}}],"line":71},"11":{"loc":{"start":{"line":86,"column":24},"end":{"line":97,"column":25}},"type":"if","locations":[{"start":{"line":86,"column":24},"end":{"line":97,"column":25}},{"start":{"line":86,"column":24},"end":{"line":97,"column":25}}],"line":86},"12":{"loc":{"start":{"line":111,"column":16},"end":{"line":116,"column":17}},"type":"if","locations":[{"start":{"line":111,"column":16},"end":{"line":116,"column":17}},{"start":{"line":111,"column":16},"end":{"line":116,"column":17}}],"line":111},"13":{"loc":{"start":{"line":124,"column":16},"end":{"line":151,"column":17}},"type":"if","locations":[{"start":{"line":124,"column":16},"end":{"line":151,"column":17}},{"start":{"line":124,"column":16},"end":{"line":151,"column":17}}],"line":124},"14":{"loc":{"start":{"line":133,"column":20},"end":{"line":144,"column":21}},"type":"if","locations":[{"start":{"line":133,"column":20},"end":{"line":144,"column":21}},{"start":{"line":133,"column":20},"end":{"line":144,"column":21}}],"line":133}},"s":{"0":1,"1":4,"2":0,"3":4,"4":4,"5":4,"6":0,"7":0,"8":0,"9":0,"10":8,"11":4,"12":1,"13":3,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":0,"25":1,"26":0,"27":3,"28":3,"29":3,"30":3,"31":3,"32":1,"33":2,"34":2,"35":1,"36":1,"37":1,"38":1,"39":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":1},"f":{"0":4,"1":4,"2":0,"3":4,"4":4,"5":0,"6":8,"7":3,"8":1,"9":1,"10":3,"11":3,"12":0,"13":0},"b":{"0":[1,1,1],"1":[4,0],"2":[4,4],"3":[4,4],"4":[4,4],"5":[1,1,1],"6":[1,2],"7":[3,3],"8":[0,1],"9":[1,2],"10":[1,1],"11":[0,1],"12":[0,0],"13":[0,0],"14":[0,0]},"inputSourceMap":{"version":3,"file":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/controllers/UserController.ts","sources":["/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/controllers/UserController.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,gEAA+B;AAC/B,oDAA4B;AAE5B,0EAAkD;AAClD,4CAAiE;AAEjE,gBAAM,CAAC,MAAM,EAAE,CAAC;AAChB,MAAM,cAAc;IAClB;;;;;;OAMG;IACH,MAAM,CAAO,QAAQ,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;;YACnE,IAAI;gBACF,MAAM,KAAK,GAAG,MAAM,qBAAW,CAAC,QAAQ,EAAE,CAAC;gBAC3C,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;oBACtB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;wBAC1B,MAAM,EAAE,GAAG,CAAC,UAAU;wBACtB,OAAO,EAAE,0BAA0B;qBACpC,CAAC,CAAC;iBACJ;qBAAM;oBACL,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;wBAC1B,MAAM,EAAE,GAAG,CAAC,UAAU;wBACtB,IAAI,EAAE,KAAK;qBACZ,CAAC,CAAC;iBACJ;aACF;YAAC,OAAO,KAAK,EAAE;gBACd,IAAI,CAAC,KAAK,CAAC,CAAC;aACb;QACH,CAAC;KAAA;IACD;;;;;;OAMG;IACH,MAAM,CAAO,SAAS,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;;YACpE,IAAI;gBACF,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;gBACrC,MAAM,UAAU,GAAG,MAAM,qBAAW,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;gBAC5D,IAAI,CAAC,UAAU,EAAE;oBACf,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;wBAC1B,MAAM,EAAE,GAAG,CAAC,UAAU;wBACtB,OAAO,EAAE,SAAS,KAAK,iCAAiC;qBACzD,CAAC,CAAC;iBACJ;qBAAM;oBACL,2BAA2B;oBAC3B,MAAM,eAAe,GAAG,IAAA,yBAAgB,EAAC,QAAQ,EAAE,UAAU,CAAC,QAAQ,CAAC,CAAC;oBACxE,IAAI,CAAC,eAAe,EAAE;wBACpB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;4BAC1B,MAAM,EAAE,GAAG,CAAC,UAAU;4BACtB,OAAO,EAAE,2CAA2C;yBACrD,CAAC,CAAC;qBACJ;yBAAM;wBACL,sBAAsB;wBACtB,MAAM,IAAI,GAAG;4BACX,KAAK,EAAE,UAAU,CAAC,KAAK;4BACvB,SAAS,EAAE,UAAU,CAAC,SAAS;4BAC/B,QAAQ,EAAE,UAAU,CAAC,QAAQ;4BAC7B,IAAI,EAAE,UAAU,CAAC,IAAI;yBACtB,CAAC;wBACF,MAAM,KAAK,GAAG,sBAAG,CAAC,IAAI,CAAC,IAAI,EAAE,iBAAiB,EAAE,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;wBACtE,IAAI,CAAC,KAAK,EAAE;4BACV,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gCAC1B,MAAM,EAAE,GAAG,CAAC,UAAU;gCACtB,OAAO,EAAE,qCAAqC;6BAC/C,CAAC,CAAC;yBACJ;6BAAM;4BACL,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gCAC1B,MAAM,EAAE,GAAG,CAAC,UAAU;gCACtB,IAAI,EAAE,KAAK;6BACZ,CAAC,CAAC;yBACJ;qBACF;iBACF;aACF;YAAC,OAAO,KAAK,EAAE;gBACd,IAAI,CAAC,KAAK,CAAC,CAAC;aACb;QACH,CAAC;KAAA;IAED,MAAM,CAAO,UAAU,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;;YACrE,IAAI;gBACF,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;gBAChE,MAAM,QAAQ,GAAG,IAAA,qBAAY,EAAC,QAAQ,CAAC,CAAC;gBACxC,IAAI,CAAC,QAAQ,EAAE;oBACb,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;wBAC1B,MAAM,EAAE,GAAG,CAAC,UAAU;wBACtB,OAAO,EAAE,yBAAyB;qBACnC,CAAC,CAAC;iBACJ;gBACD,MAAM,kBAAkB,GAAG,MAAM,qBAAW,CAAC,UAAU,CAAC;oBACtD,SAAS;oBACT,QAAQ;oBACR,KAAK;oBACL,IAAI;oBACJ,QAAQ,EAAE,QAAQ;iBACnB,CAAC,CAAC;gBACH,IAAI,kBAAkB,EAAE;oBACtB,MAAM,IAAI,GAAG;wBACX,SAAS,EAAE,kBAAkB,CAAC,SAAS;wBACvC,QAAQ,EAAE,kBAAkB,CAAC,QAAQ;wBACrC,KAAK,EAAE,kBAAkB,CAAC,KAAK;wBAC/B,IAAI,EAAE,kBAAkB,CAAC,IAAI;qBAC9B,CAAC;oBACF,iCAAiC;oBACjC,MAAM,KAAK,GAAG,sBAAG,CAAC,IAAI,CAAC,IAAI,EAAE,iBAAiB,EAAE,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;oBACtE,IAAI,KAAK,EAAE;wBACT,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;4BAC1B,MAAM,EAAE,GAAG,CAAC,UAAU;4BACtB,IAAI,EAAE,KAAK;yBACZ,CAAC,CAAC;qBACJ;yBAAM;wBACL,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;4BAC1B,MAAM,EAAE,GAAG,CAAC,UAAU;4BACtB,OAAO,EAAE,qCAAqC;yBAC/C,CAAC,CAAC;qBACJ;iBACF;qBAAM;oBACL,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;wBAC1B,MAAM,EAAE,GAAG,CAAC,UAAU;wBACtB,OAAO,EAAE,sBAAsB;qBAChC,CAAC,CAAC;iBACJ;aACF;YAAC,OAAO,KAAK,EAAE;gBACd,IAAI,CAAC,KAAK,CAAC,CAAC;aACb;QACH,CAAC;KAAA;CACF;AAED,kBAAe,cAAc,CAAC","sourcesContent":["import { Request, Response, NextFunction } from \"express\";\nimport jwt from \"jsonwebtoken\";\nimport dotenv from \"dotenv\";\n\nimport UserService from \"../services/UserService\";\nimport { comparePasswords, hashPassword } from \"../utils/bcrypt\";\n\ndotenv.config();\nclass UserController {\n  /**\n   * Get users in the database\n   * @param req Resquest\n   * @param res Response Object\n   * @param next Next Function\n   * @returns List of users\n   */\n  static async getUsers(req: Request, res: Response, next: NextFunction) {\n    try {\n      const users = await UserService.getUsers();\n      if (users.length === 0) {\n        return res.status(200).json({\n          status: res.statusCode,\n          message: \"No users have been added\",\n        });\n      } else {\n        return res.status(200).json({\n          status: res.statusCode,\n          data: users,\n        });\n      }\n    } catch (error) {\n      next(error);\n    }\n  }\n  /**\n   *\n   * @param req --User request from client\n   * @param res -- Server response\n   * @param next -- Next function\n   * @returns -- Logged in user or error message\n   */\n  static async loginUser(req: Request, res: Response, next: NextFunction) {\n    try {\n      const { email, password } = req.body;\n      const userExists = await UserService.findUserByEmail(email);\n      if (!userExists) {\n        return res.status(403).json({\n          status: res.statusCode,\n          message: `email ${email} does not exist, try signing up`,\n        });\n      } else {\n        // check if passwords match\n        const isPasswordRight = comparePasswords(password, userExists.password);\n        if (!isPasswordRight) {\n          return res.status(403).json({\n            status: res.statusCode,\n            message: \"Wrong email or password, please try again\",\n          });\n        } else {\n          // create user session\n          const user = {\n            email: userExists.email,\n            firstName: userExists.firstName,\n            lastName: userExists.lastName,\n            role: userExists.role,\n          };\n          const token = jwt.sign(user, \"simplesecretkey\", { expiresIn: \"1hr\" });\n          if (!token) {\n            return res.status(500).json({\n              status: res.statusCode,\n              message: \"oops, could not generate user token\",\n            });\n          } else {\n            return res.status(200).json({\n              status: res.statusCode,\n              data: token,\n            });\n          }\n        }\n      }\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  static async createUser(req: Request, res: Response, next: NextFunction) {\n    try {\n      const { firstName, lastName, email, role, password } = req.body;\n      const passHash = hashPassword(password);\n      if (!passHash) {\n        return res.status(500).json({\n          status: res.statusCode,\n          message: \"could not hash password\",\n        });\n      }\n      const userToBeRegistered = await UserService.createUser({\n        firstName,\n        lastName,\n        email,\n        role,\n        password: passHash,\n      });\n      if (userToBeRegistered) {\n        const user = {\n          firstName: userToBeRegistered.firstName,\n          lastName: userToBeRegistered.lastName,\n          email: userToBeRegistered.email,\n          role: userToBeRegistered.role,\n        };\n        // TODO: store secret key in file\n        const token = jwt.sign(user, \"simplesecretkey\", { expiresIn: \"1hr\" });\n        if (token) {\n          return res.status(201).json({\n            status: res.statusCode,\n            data: token,\n          });\n        } else {\n          return res.status(500).json({\n            status: res.statusCode,\n            message: \"oops, could not generate user token\",\n          });\n        }\n      } else {\n        return res.status(500).json({\n          status: res.statusCode,\n          message: \"something went wrong\",\n        });\n      }\n    } catch (error) {\n      next(error);\n    }\n  }\n}\n\nexport default UserController;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d67a8555cb93ca33d3d7a279ee1604f54106c477","contentHash":"e21b7a5c2a0e6e65681eb914df8770fe82e50a6bdc65d5164a89c5a743327a24"},"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/services/UserService.ts":{"path":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/services/UserService.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":17},"end":{"line":15,"column":54}},"16":{"start":{"line":16,"column":17},"end":{"line":16,"column":33}},"17":{"start":{"line":23,"column":8},"end":{"line":31,"column":11}},"18":{"start":{"line":24,"column":12},"end":{"line":30,"column":13}},"19":{"start":{"line":25,"column":30},"end":{"line":25,"column":50}},"20":{"start":{"line":26,"column":16},"end":{"line":26,"column":29}},"21":{"start":{"line":29,"column":16},"end":{"line":29,"column":28}},"22":{"start":{"line":39,"column":8},"end":{"line":52,"column":11}},"23":{"start":{"line":40,"column":12},"end":{"line":51,"column":13}},"24":{"start":{"line":41,"column":29},"end":{"line":41,"column":69}},"25":{"start":{"line":42,"column":16},"end":{"line":47,"column":17}},"26":{"start":{"line":43,"column":20},"end":{"line":43,"column":32}},"27":{"start":{"line":46,"column":20},"end":{"line":46,"column":32}},"28":{"start":{"line":50,"column":16},"end":{"line":50,"column":28}},"29":{"start":{"line":60,"column":8},"end":{"line":74,"column":11}},"30":{"start":{"line":61,"column":12},"end":{"line":73,"column":13}},"31":{"start":{"line":62,"column":38},"end":{"line":64,"column":18}},"32":{"start":{"line":65,"column":16},"end":{"line":67,"column":17}},"33":{"start":{"line":66,"column":20},"end":{"line":66,"column":49}},"34":{"start":{"line":68,"column":36},"end":{"line":68,"column":59}},"35":{"start":{"line":69,"column":16},"end":{"line":69,"column":35}},"36":{"start":{"line":72,"column":16},"end":{"line":72,"column":28}},"37":{"start":{"line":77,"column":0},"end":{"line":77,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":22},"end":{"line":32,"column":5}},"line":22},"9":{"name":"(anonymous_9)","decl":{"start":{"line":23,"column":47},"end":{"line":23,"column":48}},"loc":{"start":{"line":23,"column":60},"end":{"line":31,"column":9}},"line":23},"10":{"name":"(anonymous_10)","decl":{"start":{"line":38,"column":4},"end":{"line":38,"column":5}},"loc":{"start":{"line":38,"column":34},"end":{"line":53,"column":5}},"line":38},"11":{"name":"(anonymous_11)","decl":{"start":{"line":39,"column":47},"end":{"line":39,"column":48}},"loc":{"start":{"line":39,"column":60},"end":{"line":52,"column":9}},"line":39},"12":{"name":"(anonymous_12)","decl":{"start":{"line":59,"column":4},"end":{"line":59,"column":5}},"loc":{"start":{"line":59,"column":28},"end":{"line":75,"column":5}},"line":59},"13":{"name":"(anonymous_13)","decl":{"start":{"line":60,"column":47},"end":{"line":60,"column":48}},"loc":{"start":{"line":60,"column":60},"end":{"line":74,"column":9}},"line":60}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":42,"column":16},"end":{"line":47,"column":17}},"type":"if","locations":[{"start":{"line":42,"column":16},"end":{"line":47,"column":17}},{"start":{"line":42,"column":16},"end":{"line":47,"column":17}}],"line":42},"9":{"loc":{"start":{"line":65,"column":16},"end":{"line":67,"column":17}},"type":"if","locations":[{"start":{"line":65,"column":16},"end":{"line":67,"column":17}},{"start":{"line":65,"column":16},"end":{"line":67,"column":17}}],"line":65}},"s":{"0":1,"1":4,"2":0,"3":4,"4":4,"5":4,"6":0,"7":0,"8":0,"9":0,"10":8,"11":4,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":0,"22":3,"23":3,"24":3,"25":3,"26":1,"27":2,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1},"f":{"0":4,"1":4,"2":0,"3":4,"4":4,"5":0,"6":8,"7":1,"8":1,"9":1,"10":3,"11":3,"12":0,"13":0},"b":{"0":[1,1,1],"1":[4,0],"2":[4,4],"3":[4,4],"4":[4,4],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[1,2],"9":[0,0]},"inputSourceMap":{"version":3,"file":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/services/UserService.ts","sources":["/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/services/UserService.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,uDAA2B;AAG3B,MAAM,EAAE,IAAI,EAAE,GAAG,gBAAE,CAAC;AAEpB,MAAM,WAAW;IACf;;;OAGG;IACH,MAAM,CAAO,QAAQ;;YACnB,IAAI;gBACF,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,OAAO,EAAE,CAAC;gBACnC,OAAO,KAAK,CAAC;aACd;YAAC,OAAO,KAAK,EAAE;gBACd,MAAM,KAAK,CAAC;aACb;QACH,CAAC;KAAA;IACD;;;;OAIG;IACH,MAAM,CAAO,eAAe,CAAC,KAAa;;YACxC,IAAI;gBACF,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;gBACtD,IAAI,CAAC,IAAI,EAAE;oBACT,OAAO,IAAI,CAAC;iBACb;qBAAM;oBACL,OAAO,IAAI,CAAC;iBACb;aACF;YAAC,OAAO,KAAK,EAAE;gBACd,MAAM,KAAK,CAAC;aACb;QACH,CAAC;KAAA;IAED;;;;OAIG;IACH,MAAM,CAAO,UAAU,CAAC,IAAoB;;YAC1C,IAAI;gBACF,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC;oBACvC,KAAK,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE;iBAC7B,CAAC,CAAC;gBACH,IAAI,aAAa,EAAE;oBACjB,OAAO,qBAAqB,CAAC;iBAC9B;gBACD,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;gBAC5C,OAAO,WAAW,CAAC;aACpB;YAAC,OAAO,KAAK,EAAE;gBACd,MAAM,KAAK,CAAC;aACb;QACH,CAAC;KAAA;CACF;AAED,kBAAe,WAAW,CAAC","sourcesContent":["import db from \"../models\";\nimport { UserAttributes } from \"../utils/interfaces\";\n\nconst { User } = db;\n\nclass UserService {\n  /**\n   * Return List of Users\n   * @returns list of users\n   */\n  static async getUsers() {\n    try {\n      const users = await User.findAll();\n      return users;\n    } catch (error) {\n      throw error;\n    }\n  }\n  /**\n   * Finds users by email\n   * @param email User Email\n   * @returns user\n   */\n  static async findUserByEmail(email: string) {\n    try {\n      const user = await User.findOne({ where: { email } });\n      if (!user) {\n        return null;\n      } else {\n        return user;\n      }\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  /**\n   * Register a new user\n   * @param user @interface UserAttributes\n   * @returns user created after signup\n   */\n  static async createUser(user: UserAttributes) {\n    try {\n      const userToBeSaved = await User.findOne({\n        where: { email: user.email },\n      });\n      if (userToBeSaved) {\n        return \"User already exists\";\n      }\n      const createdUser = await User.create(user);\n      return createdUser;\n    } catch (error) {\n      throw error;\n    }\n  }\n}\n\nexport default UserService;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bb05717214fd3efce3410307bb089fc2f73d32fc","contentHash":"9269e9cfc15b882eb44ba99064d3aafea2b9fbd185ecc80efd2ea2e2eef070f3"},"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/utils/bcrypt.ts":{"path":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/utils/bcrypt.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":57}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":51}},"5":{"start":{"line":13,"column":21},"end":{"line":17,"column":1}},"6":{"start":{"line":14,"column":17},"end":{"line":14,"column":49}},"7":{"start":{"line":15,"column":17},"end":{"line":15,"column":58}},"8":{"start":{"line":16,"column":4},"end":{"line":16,"column":16}},"9":{"start":{"line":18,"column":0},"end":{"line":18,"column":36}},"10":{"start":{"line":19,"column":25},"end":{"line":21,"column":1}},"11":{"start":{"line":20,"column":4},"end":{"line":20,"column":56}},"12":{"start":{"line":22,"column":0},"end":{"line":22,"column":44}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":21},"end":{"line":13,"column":22}},"loc":{"start":{"line":13,"column":35},"end":{"line":17,"column":1}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":19,"column":25},"end":{"line":19,"column":26}},"loc":{"start":{"line":19,"column":45},"end":{"line":21,"column":1}},"line":19}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":1,"10":1,"11":2,"12":1},"f":{"0":1,"1":0,"2":2},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/utils/bcrypt.ts","sources":["/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/utils/bcrypt.ts"],"names":[],"mappings":";;;;;;AAAA,oDAA4B;AAE5B;;;;GAIG;AACI,MAAM,YAAY,GAAG,CAAC,QAAgB,EAAE,EAAE;IAC/C,MAAM,IAAI,GAAG,gBAAM,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;IACpC,MAAM,IAAI,GAAG,gBAAM,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IAC7C,OAAO,IAAI,CAAC;AACd,CAAC,CAAC;AAJW,QAAA,YAAY,gBAIvB;AAEK,MAAM,gBAAgB,GAAG,CAAC,QAAgB,EAAE,IAAY,EAAE,EAAE;IACjE,OAAO,gBAAM,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;AAC5C,CAAC,CAAC;AAFW,QAAA,gBAAgB,oBAE3B","sourcesContent":["import bcrypt from \"bcrypt\";\n\n/**\n * Hash a password\n * @param password password string to be hashed\n * @returns hashed password\n */\nexport const hashPassword = (password: string) => {\n  const salt = bcrypt.genSaltSync(10);\n  const hash = bcrypt.hashSync(password, salt);\n  return hash;\n};\n\nexport const comparePasswords = (password: string, hash: string) => {\n  return bcrypt.compareSync(password, hash);\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bce29e3563d336be46debb07a438768b926175bd","contentHash":"b394cee1d93b4a6899820813224104b64f9b55d889b86461bcd0aad9b6dbde04"},"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/routes/ProductRoutes.ts":{"path":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/routes/ProductRoutes.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":53}},"4":{"start":{"line":7,"column":29},"end":{"line":7,"column":90}},"5":{"start":{"line":8,"column":24},"end":{"line":8,"column":78}},"6":{"start":{"line":9,"column":15},"end":{"line":9,"column":41}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":83}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{"0":3},"b":{"0":[1,1,1],"1":[2,1],"2":[3,3]},"inputSourceMap":{"version":3,"file":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/routes/ProductRoutes.ts","sources":["/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/routes/ProductRoutes.ts"],"names":[],"mappings":";;;;;AAAA,sDAA8B;AAC9B,2FAAkE;AAClE,+EAAqD;AAErD,MAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,uBAAW,EAAE,4BAAiB,CAAC,WAAW,CAAC,CAAC;AAE5D,kBAAe,MAAM,CAAC","sourcesContent":["import express from \"express\";\nimport ProductController from \"../controllers/ProductsController\";\nimport verifyToken from \"./middleware/authorization\";\n\nconst router = express.Router();\n\nrouter.get(\"/\", verifyToken, ProductController.getProducts);\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"10d15cb7021f0942a71698a3c97e89f02cdbffc7","contentHash":"35780a64a809139ca341c999e2babf5e81028bd8ca23de46874e82e9a5846756"},"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/controllers/ProductsController.ts":{"path":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/controllers/ProductsController.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":25},"end":{"line":15,"column":79}},"16":{"start":{"line":18,"column":8},"end":{"line":37,"column":11}},"17":{"start":{"line":19,"column":12},"end":{"line":36,"column":13}},"18":{"start":{"line":20,"column":33},"end":{"line":20,"column":80}},"19":{"start":{"line":21,"column":16},"end":{"line":32,"column":17}},"20":{"start":{"line":22,"column":20},"end":{"line":25,"column":23}},"21":{"start":{"line":28,"column":20},"end":{"line":31,"column":23}},"22":{"start":{"line":35,"column":16},"end":{"line":35,"column":28}},"23":{"start":{"line":40,"column":0},"end":{"line":40,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":39},"end":{"line":38,"column":5}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":47},"end":{"line":18,"column":48}},"loc":{"start":{"line":18,"column":60},"end":{"line":37,"column":9}},"line":18}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":21,"column":16},"end":{"line":32,"column":17}},"type":"if","locations":[{"start":{"line":21,"column":16},"end":{"line":32,"column":17}},{"start":{"line":21,"column":16},"end":{"line":32,"column":17}}],"line":21}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,0]},"inputSourceMap":{"version":3,"file":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/controllers/ProductsController.ts","sources":["/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/controllers/ProductsController.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,gFAAwD;AAExD,MAAM,iBAAiB;IACrB,MAAM,CAAO,WAAW,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;;YACtE,IAAI;gBACF,MAAM,QAAQ,GAAG,MAAM,wBAAc,CAAC,cAAc,EAAE,CAAC;gBACvD,IAAI,QAAQ,CAAC,MAAM,IAAI,CAAC,EAAE;oBACxB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;wBAC1B,MAAM,EAAE,GAAG,CAAC,UAAU;wBACtB,OAAO,EAAE,6BAA6B;qBACvC,CAAC,CAAC;iBACJ;qBAAM;oBACL,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;wBAC1B,MAAM,EAAE,GAAG,CAAC,UAAU;wBACtB,IAAI,EAAE,QAAQ;qBACf,CAAC,CAAC;iBACJ;aACF;YAAC,OAAO,KAAK,EAAE;gBACd,IAAI,CAAC,KAAK,CAAC,CAAC;aACb;QACH,CAAC;KAAA;CACF;AAED,kBAAe,iBAAiB,CAAC","sourcesContent":["import { NextFunction, Request, Response } from \"express\";\nimport ProductService from \"../services/ProductService\";\n\nclass ProductController {\n  static async getProducts(req: Request, res: Response, next: NextFunction) {\n    try {\n      const products = await ProductService.getAllProducts();\n      if (products.length <= 0) {\n        return res.status(200).json({\n          status: res.statusCode,\n          message: \"oops, no products added yet\",\n        });\n      } else {\n        return res.status(200).json({\n          status: res.statusCode,\n          data: products,\n        });\n      }\n    } catch (error) {\n      next(error);\n    }\n  }\n}\n\nexport default ProductController;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"53d9e6507c566cc66bd2ab166731ba83f52b39f9","contentHash":"8b8c61c9222fd8be2dcb49416f96d6a467b60df28d39a98012447a150c3002df"},"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/services/ProductService.ts":{"path":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/services/ProductService.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":17},"end":{"line":15,"column":54}},"16":{"start":{"line":16,"column":20},"end":{"line":16,"column":36}},"17":{"start":{"line":19,"column":8},"end":{"line":27,"column":11}},"18":{"start":{"line":20,"column":12},"end":{"line":26,"column":13}},"19":{"start":{"line":21,"column":33},"end":{"line":21,"column":56}},"20":{"start":{"line":22,"column":16},"end":{"line":22,"column":32}},"21":{"start":{"line":25,"column":16},"end":{"line":25,"column":28}},"22":{"start":{"line":30,"column":0},"end":{"line":30,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":28},"end":{"line":28,"column":5}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":19,"column":47},"end":{"line":19,"column":48}},"loc":{"start":{"line":19,"column":60},"end":{"line":27,"column":9}},"line":19}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/services/ProductService.ts","sources":["/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/services/ProductService.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,uDAA2B;AAE3B,MAAM,EAAE,OAAO,EAAE,GAAG,gBAAE,CAAC;AAEvB,MAAM,cAAc;IAClB,MAAM,CAAO,cAAc;;YACzB,IAAI;gBACF,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC,OAAO,EAAE,CAAC;gBACzC,OAAO,QAAQ,CAAC;aACjB;YAAC,OAAO,KAAK,EAAE;gBACd,MAAM,KAAK,CAAC;aACb;QACH,CAAC;KAAA;CACF;AAED,kBAAe,cAAc,CAAC","sourcesContent":["import db from \"../models\";\n\nconst { Product } = db;\n\nclass ProductService {\n  static async getAllProducts() {\n    try {\n      const products = await Product.findAll();\n      return products;\n    } catch (error) {\n      throw error;\n    }\n  }\n}\n\nexport default ProductService;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"896ca2ba5a5c34523fc7b171b40526179aafa3b1","contentHash":"b950f8c65c0d1a84ea7c155d8e5ed52ded093a5946f3c2d9c9f6b849150cdf6d"},"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/routes/middleware/authorization.ts":{"path":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/routes/middleware/authorization.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":23},"end":{"line":15,"column":63}},"16":{"start":{"line":16,"column":20},"end":{"line":37,"column":2}},"17":{"start":{"line":16,"column":40},"end":{"line":37,"column":2}},"18":{"start":{"line":18,"column":4},"end":{"line":36,"column":5}},"19":{"start":{"line":19,"column":22},"end":{"line":19,"column":108}},"20":{"start":{"line":20,"column":24},"end":{"line":20,"column":85}},"21":{"start":{"line":21,"column":8},"end":{"line":29,"column":9}},"22":{"start":{"line":22,"column":12},"end":{"line":22,"column":19}},"23":{"start":{"line":25,"column":12},"end":{"line":28,"column":15}},"24":{"start":{"line":32,"column":8},"end":{"line":35,"column":11}},"25":{"start":{"line":38,"column":0},"end":{"line":38,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":16,"column":20},"end":{"line":16,"column":21}},"loc":{"start":{"line":16,"column":40},"end":{"line":37,"column":2}},"line":16},"9":{"name":"(anonymous_9)","decl":{"start":{"line":16,"column":74},"end":{"line":16,"column":75}},"loc":{"start":{"line":16,"column":87},"end":{"line":37,"column":1}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":19,"column":22},"end":{"line":19,"column":108}},"type":"cond-expr","locations":[{"start":{"line":19,"column":83},"end":{"line":19,"column":89}},{"start":{"line":19,"column":92},"end":{"line":19,"column":108}}],"line":19},"9":{"loc":{"start":{"line":19,"column":22},"end":{"line":19,"column":80}},"type":"binary-expr","locations":[{"start":{"line":19,"column":22},"end":{"line":19,"column":63}},{"start":{"line":19,"column":67},"end":{"line":19,"column":80}}],"line":19},"10":{"loc":{"start":{"line":21,"column":8},"end":{"line":29,"column":9}},"type":"if","locations":[{"start":{"line":21,"column":8},"end":{"line":29,"column":9}},{"start":{"line":21,"column":8},"end":{"line":29,"column":9}}],"line":21}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[0,1],"7":[1,1],"8":[0,0],"9":[0,0],"10":[0,0]},"inputSourceMap":{"version":3,"file":"/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/routes/middleware/authorization.ts","sources":["/Users/stuart/Stuart/ProjectsPipeLine/Telcode/coffeemachine/routes/middleware/authorization.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,gEAA+B;AAW/B,MAAM,WAAW,GAAG,CAAO,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;;IAC5E,IAAI;QACF,MAAM,KAAK,GAAuB,MAAA,GAAG,CAAC,OAAO,CAAC,aAAa,0CAAE,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QAC3E,MAAM,OAAO,GAAG,MAAM,sBAAG,CAAC,MAAM,CAAC,KAAe,EAAE,iBAAiB,CAAC,CAAC;QACrE,IAAI,OAAO,EAAE;YACX,IAAI,EAAE,CAAC;SACR;aAAM;YACL,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,UAAU;gBACtB,OAAO,EAAE,sBAAsB;aAChC,CAAC,CAAC;SACJ;KACF;IAAC,OAAO,KAAK,EAAE;QACd,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;YAC1B,MAAM,EAAE,GAAG,CAAC,UAAU;YACtB,OAAO,EAAE,0BAA0B;SACpC,CAAC,CAAC;KACJ;AACH,CAAC,CAAA,CAAC;AAEF,kBAAe,WAAW,CAAC","sourcesContent":["import { NextFunction, Response, Request } from \"express\";\nimport jwt from \"jsonwebtoken\";\n\nexport interface Payload {\n  email: string;\n  firstName: string;\n  lastName: string;\n  role: string;\n  iat: number;\n  exp: number;\n}\n\nconst verifyToken = async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const token: string | undefined = req.headers.authorization?.split(\" \")[1];\n    const payload = await jwt.verify(token as string, \"simplesecretkey\");\n    if (payload) {\n      next();\n    } else {\n      return res.status(403).json({\n        status: res.statusCode,\n        message: \"Authorization denied\",\n      });\n    }\n  } catch (error) {\n    return res.status(403).json({\n      status: res.statusCode,\n      message: \"invalid or expired token\",\n    });\n  }\n};\n\nexport default verifyToken;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c6907a9b3247dde307109c29b682112fc7833445","contentHash":"9bfd90b107df3259698cbdf7ba8aa525e292c171f98ce34d7e497bb5e7582627"}}